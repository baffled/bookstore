00030004000500080011001200130015001600180019001B002500260027003000310032003B003D003E0040004100420044004500460048
00000006000C0012001400300037003F00600072009700B700B900DE00FE0100010C011C011E012501530178017E018A019B01A101AD01BE
! TestýýGoSub InitýGoSub ShouldIncrementCounterýGoSub WrapUpýýýSTOPýý* --------------------------------------------------------------------------ý* Initý* --------------------------------------------------------------------------ýInit:ýOpen 'U2_PARAMS' To U2_PARAMS Elseý  Error 'Cannot open U2_PARAMS'ý  STOPýEndýRead OrigRec From U2_PARAMS,'NEXT.PO' Elseý  OrigRec = ''ýEndýWrite OrigRec On U2_PARAMS,'NEXT.PO.bak'ýDelete U2_PARAMS,'NEXT.PO'ýýReturnýý* --------------------------------------------------------------------------ý* WrapUpý* --------------------------------------------------------------------------ýWrapUp:ýý   Write OrigRec On U2_PARAMS,'NEXT.PO'ý   Delete U2_PARAMS,'NEXT.PO.bak'ý   Returnýý* --------------------------------------------------------------------------ý* CallSubý* --------------------------------------------------------------------------ýCallSub:ý  Counter = 0ý  Call u2_GetNextPO(Counter)ýReturnýý* --------------------------------------------------------------------------ý* ShouldIncrementCounterý* --------------------------------------------------------------------------ýShouldIncrementCounter:ý  Announce "Should Increment Counter"ý  ý  CounterRec = 'X':@FM:'1000'ý  Write CounterRec On U2_PARAMS,'NEXT.PO'ýý  GoSub CallSub  ý  Expected = 1001  ý  AssertIs 'Should have new counter', Expected, Counterý  ý  GoSub CallSub  ý  Expected = 1002  ý  AssertIs 'Should have new counter', Expected, Counterý  ýReturnýý
